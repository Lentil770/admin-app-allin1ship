[{"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\index.js":"1","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\App.js":"2","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\CreateRoute.js":"3","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditDefaultRoute.js":"4","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\topBar.js":"5","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddDriver.js":"6","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddCustomer.js":"7","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddVehicle.js":"8","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditCustomer.js":"9","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayFeedback.js":"10","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayTimestamps.js":"11","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayStartTimes.js":"12","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayCurrentRoute.js":"13","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\CreateSchedule.js":"14","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditSchedule.js":"15","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\functions\\checkDB.js":"16"},{"size":254,"mtime":1612382364269,"results":"17","hashOfConfig":"18"},{"size":2134,"mtime":1614204881946,"results":"19","hashOfConfig":"18"},{"size":8185,"mtime":1612463896595,"results":"20","hashOfConfig":"18"},{"size":9917,"mtime":1614206827696,"results":"21","hashOfConfig":"18"},{"size":1772,"mtime":1614811968283,"results":"22","hashOfConfig":"18"},{"size":1421,"mtime":1614812798994,"results":"23","hashOfConfig":"18"},{"size":2946,"mtime":1612463896594,"results":"24","hashOfConfig":"18"},{"size":2174,"mtime":1612463896595,"results":"25","hashOfConfig":"18"},{"size":5155,"mtime":1618352935497,"results":"26","hashOfConfig":"18"},{"size":1984,"mtime":1612463896597,"results":"27","hashOfConfig":"18"},{"size":1975,"mtime":1612463896598,"results":"28","hashOfConfig":"18"},{"size":1926,"mtime":1612463896597,"results":"29","hashOfConfig":"18"},{"size":6509,"mtime":1613421204482,"results":"30","hashOfConfig":"18"},{"size":24603,"mtime":1618409735772,"results":"31","hashOfConfig":"18"},{"size":20669,"mtime":1614607746083,"results":"32","hashOfConfig":"18"},{"size":710,"mtime":1618409825951,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"1yrp2bo",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"36"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\index.js",[],["68","69"],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\App.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\CreateRoute.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditDefaultRoute.js",["70"],"import React from 'react';\r\n\r\nclass EditDefaultRoute extends React.Component {\r\n    state = {\r\n        routes: [{\r\n            \"id\": 1\r\n        },\r\n           {\"id\": 2\r\n        }],\r\n        routeData: null,\r\n        selectedRoute: '1',\r\n        customersList: (givenData) => givenData && givenData.map((customer) => \r\n            <option key={customer.customer_id} value={customer.customer_id} >{customer.customer_name}</option>\r\n            ),\r\n        customersListB: (givenData) => givenData && givenData.map((customer) => \r\n            `<option key=${customer.customer_id} value=${customer.customer_id} >${customer.customer_name}</option>`\r\n            )\r\n    }\r\n\r\n    getRouteData = () => {\r\n        this.setState({routeData: null});\r\n        const url = \"https://allin1ship.herokuapp.com/defaultRouteDisplay/\" + document.getElementById(\"selectRoute\").value;\r\n        console.log(url);\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(json => {\r\n            this.setState({routeData: json, routeTableData: []})\r\n            console.log(json);\r\n            //this.getTasks(json.map((obj) => obj.id))\r\n        }).then(() => this.setRouteTableData())\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    getRoutes = () => {\r\n        fetch(\"https://allin1ship.herokuapp.com/getNumberRoutes\")\r\n        .then(response => response.json())\r\n        .then(json => this.setState({routes: json}))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    getCustomersData = () => {\r\n        console.log('getcustoemrsdata running');\r\n        const url = \"https://allin1ship.herokuapp.com/getCustomersData\";\r\n        fetch(url)\r\n        .then(response => response.json())\r\n        .then(json => this.setState({customersData: json}))\r\n        .then(() => console.log(this.state))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('componentDidMount');\r\n        this.getRoutes();\r\n        this.getCustomersData();\r\n    }\r\n    \r\n    postStopChanges = (i) => {\r\n        console.log('poststopchanges running, i:', i, this.state.selectedRoute)\r\n        const stopData = {\r\n            key: i,\r\n            stop_number: document.getElementById(`stopNumber${i}`).innerText,\r\n            customer_id: document.getElementById(`customerSelect${i}`).value,\r\n            notes: document.getElementById(`notes${i}`).innerText\r\n        };\r\n        console.log(JSON.stringify(stopData));\r\n        fetch(`https://allin1ship.herokuapp.com/postStopChanges/${this.state.selectedRoute}`, {\r\n            method: \"POST\",  \r\n            headers: {\r\n                \"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify(stopData)\r\n        }).then(response =>  {\r\n            console.log(response);\r\n            if (response.ok) {\r\n                alert('changes successfully sent')\r\n            }\r\n            return response.json();\r\n    })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('handlesubmitrunning');\r\n        //CHANGE THIS, PROB CHANGE ENDPOINT TO DLETE PREV, AND POST ALL NEW\r\n        //i think i have to work backwards from the server- figure out how to delete the old stops and post all new ones and then figute out how i need to send the new data.\r\n        for (let i=1;i<=this.state.routeData.length;i++) {\r\n            this.postStopChanges(i)\r\n        }\r\n    }\r\n\r\n    postScheduleStops = (i) => {\r\n        //for line in taskbox, run this.postStopTask(task, schedule_stop_id)\r\n        const postStopData = {\r\n            stopNumber:  document.getElementById(`stopNumber${i}`).innerText,\r\n            routeId: `${this.state.selectedRoute}`, ////where to get scheduleId from??\r\n            customerId: document.getElementById(`customerSelect${i+1}`).value// in state needs to be set from dropdown value?\r\n        } \r\n        console.log('handlesubmitstop', JSON.stringify(postStopData));\r\n        fetch(\"https://allin1ship.herokuapp.com/postScheduleStops\", {\r\n            method: \"POST\",  \r\n            headers: {\r\n                \"Content-Type\": \"application/json\"},\r\n            body: JSON.stringify(postStopData)\r\n        }).then((response) => {\r\n            if(response.ok) {\r\n                return response.json()\r\n            }\r\n            else {throw new Error(response.statusText) }\r\n        }).then(json => this.postStopTask(document.getElementById(`tasks${i+1}`).value, json))\r\n    }\r\n\r\n/*\r\n    handleTextChange = (e) => {\r\n        this.setState({selectedDropOffInfo: e.target.value})\r\n    }\r\n*/\r\n\r\n    addRouteRow = () => {\r\n        this.setState({routeTableData: [], routeData: [...this.state.routeData, {stop_number: this.state.routeTableData.length + 1}]}, this.setRouteTableData)\r\n    }\r\n\r\n    handleRouteChange = (e) => {\r\n        //console.log(document.getElementById(\"selectRoute\").value)\r\n        this.setState({selectedRoute: e.target.value})\r\n        this.getRouteData()\r\n    }\r\n\r\n    deleteRouteRow = (e, rowNumber) => {\r\n        e.preventDefault()\r\n        const { routeData } = this.state;\r\n        const filteredRouteData = routeData.filter((route) => route.stop_number !== rowNumber)\r\n        for (let i=0;i<filteredRouteData.length;i++){\r\n            filteredRouteData[i].stop_number = i+1\r\n        }\r\n        console.log(filteredRouteData);\r\n        this.setState({routeData: filteredRouteData, routeTableData: []}, this.setRouteTableData)\r\n        this.setState({[`tasks${rowNumber}`]: null})\r\n        for (let i=rowNumber;i<=routeData.length;i++) {\r\n            this.setState({[`tasks${i}`]: this.state[`tasks${i+1}`]})\r\n        }\r\n    }\r\n\r\n    setRouteTableData = () => {\r\n        //this.setState({routeTableData: []})\r\n        //\r\n        const { routeData } = this.state;\r\n        console.log(routeData);\r\n        let arrayToRender = []\r\n        for (let i=0;i<routeData.length;i++) {\r\n            let tableRow = (<tr key={routeData[i].stop_number} id={`${routeData[i].stop_number}`} \r\n                draggable={true} \r\n                \r\n                onDragStart={this.handleDrag} \r\n                onDrop={this.handleDrop}>\r\n                <td id={`stopNumber${routeData[i].stop_number}`}>{routeData[i].stop_number}</td>\r\n                <td id={routeData[i].stop_number}><select id={`customerSelect${routeData[i].stop_number}`}><option key='0' value={routeData[i].customer_id} >{routeData[i].customer_name}</option>{this.state.customersData && this.state.customersList(this.state.customersData)}</select></td>\r\n                {/*<td><textarea onChange={tasktext => this.setState({[`tasks${routeData[i].stop_number}`]: tasktext.target.value })}\r\n                    rows='3' cols='35' id={`tasks${routeData[i].stop_number}`} defaultValue={this.state[`tasks${routeData[i].stop_number}`] && this.state[`tasks${routeData[i].stop_number}`]} name={`taskTextArea${routeData[i].stop_number}`}\r\n                ></textarea></td> */}\r\n                <input type='button' onClick={(e) => this.deleteRouteRow(e, routeData[i].stop_number)} value='delete row' />\r\n            </tr>) \r\n            arrayToRender.push(tableRow)\r\n        }\r\n        this.setState({routeTableData: arrayToRender})\r\n    }\r\n\r\n    render() {\r\n        /*left in if wabnt to copy\r\n        const optionsDrivers = this.state.drivers && this.state.drivers.map((driver) => \r\n            <option key={driver.driver}>{driver.driver}</option>\r\n        );*/\r\n        const tableRouteData = this.state.routeData && this.state.routeData.map((stop) => \r\n            <tr >\r\n                <td id={`stopNumber${stop.stop_number}`}>{stop.stop_number}</td>\r\n                <td id={`customer${stop.stop_number}`}><select id={`customerSelect${stop.stop_number}`}><option key='0' value={stop.customer_id} >{stop.customer_name}</option>{this.state.customersData && this.state.customersList(this.state.customersData)}</select></td>\r\n                <td contentEditable=\"true\" id={`notes${stop.stop_number}`} >{stop.notes}</td> \r\n                {/*<input type='text' id={stop.stop_number} defaultValue={stop.comments} onChange={() => this.handleComment}></input>\r\n                <button type='button' onClick={() => this.handleCommentButton(stop.stop_number, document.getElementById(`notes${stop.notes}`).innerText)}>submit changes</button>*/}\r\n            </tr>  \r\n        )\r\n\r\n        const optionsRoutes = this.state.routes && this.state.routes.map((route) => \r\n        <option key={route.id} value={route.id}>{route.id} - {route.route_name}</option>\r\n    );\r\n        //const selectedRouteName = document.getElementById('selectRoute').value;\r\n        //console.log(selectedRouteName);\r\n        return <div style={{padding: '15px'}}>            \r\n             <main className='EditDefaultRoute'>\r\n\r\n                <form name='editDefaultRoute' onSubmit={this.handleSubmit}>\r\n                <br/><legend>Edit Route</legend><br/>\r\n                   \r\n                    <select id='selectRoute' onChange={this.handleRouteChange}>\r\n                        <option value=\"\" selected disabled hidden>Choose Route</option>\r\n                        {optionsRoutes}\r\n                    </select><br/>\r\n\r\n                    <table>\r\n                        <thead>\r\n                            <tr><th>selected route #:{this.state.selectedRoute}</th></tr>\r\n                            {this.state.routeData && <tr>\r\n                                <th>Stop #</th>\r\n                                <th>Address</th>\r\n                            </tr>}\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.state.routeTableData}\r\n                        </tbody>\r\n                       <button type='button' onClick={() => this.addRouteRow()}>add row</button>\r\n                    </table>\r\n\r\n                    <button type='submit'>SUBMIT</button><br/>\r\n                </form>\r\n            </main>\r\n        </div>\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default EditDefaultRoute;","C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\topBar.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddDriver.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddCustomer.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\AddVehicle.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditCustomer.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayFeedback.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayTimestamps.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayStartTimes.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\DisplayCurrentRoute.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\CreateSchedule.js",["71","72"],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\components\\EditSchedule.js",[],"C:\\Users\\mushk\\Allin1Ship\\admin-app-allin1ship\\src\\functions\\checkDB.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":171,"column":15,"nodeType":"79","messageId":"80","endLine":171,"endColumn":29},{"ruleId":"77","severity":1,"message":"81","line":2,"column":10,"nodeType":"79","messageId":"80","endLine":2,"endColumn":14},{"ruleId":"77","severity":1,"message":"82","line":2,"column":16,"nodeType":"79","messageId":"80","endLine":2,"endColumn":21},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'tableRouteData' is assigned a value but never used.","Identifier","unusedVar","'Link' is defined but never used.","'Route' is defined but never used.","no-global-assign","no-unsafe-negation"]